<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Calend√°rio UFPR 2025</title>
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-83359NB2SY"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-83359NB2SY');
  </script>
  <style>
    /* Estilos base */
    .ufprcal-user-active {
      background: #2196f3 !important;
      color: #fff !important;
      border: none !important;
      box-shadow: 0 2px 4px rgba(33, 150, 243, 0.3) !important;
    }

    /* Estilos comuns para todos os bot√µes */
    #ufprcal button {
      transition: all 0.2s ease-in-out;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      border: 1.5px solid transparent;
      font-weight: 500;
      letter-spacing: 0.3px;
    }

    #ufprcal button:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }

    #ufprcal button:active {
      transform: translateY(1px);
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    /* Estilos espec√≠ficos para bot√µes de usu√°rio */
    #ufprcal-btn-aluno, 
    #ufprcal-btn-prof {
      background: #fff;
      color: #2196f3;
      border: 1.5px solid #2196f3;
      padding: clamp(8px, 2vw, 12px) clamp(16px, 3vw, 24px);
      margin: 4px 2px;
      font-size: clamp(0.9rem, 2.5vw, 1.1rem);
      border-radius: 8px;
      cursor: pointer;
      flex: 1 1 auto;
      min-width: 120px;
      max-width: 200px;
    }

    #ufprcal-btn-aluno:hover, 
    #ufprcal-btn-prof:hover {
      background: #e3f2fd;
    }

    /* Estilos para bot√µes de semestre */
    #sem1, 
    #sem2 {
      flex: 1 1 auto;
      min-width: 140px;
      max-width: 200px;
      padding: clamp(8px, 2vw, 12px) clamp(12px, 2vw, 20px);
      font-size: clamp(0.9rem, 2.5vw, 1.1rem);
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
    }

    #sem1 {
      background: #2196f3;
      color: #fff;
      border: none;
    }

    #sem2 {
      background: #fff;
      color: #2196f3;
      border: 1.5px solid #2196f3;
    }

    #sem1:hover {
      background: #1976d2;
    }

    #sem2:hover {
      background: #e3f2fd;
    }

    /* Estilos para bot√µes de filtro */
    .ufprcal-filter {
      padding: clamp(6px, 1.5vw, 10px) clamp(10px, 2vw, 16px);
      border-radius: 8px;
      cursor: pointer;
      font-size: clamp(0.85rem, 2.2vw, 1rem);
      flex: 1 1 auto;
      min-width: 80px;
      max-width: 120px;
      font-weight: 500;
      background: #fff;
      color: #02539a;
      border: 1.5px solid #2196f3;
    }

    .ufprcal-filter:hover {
      background: #e3f2fd;
    }

    .ufprcal-filter-active {
      background: #2196f3 !important;
      color: #fff !important;
      border: none !important;
      box-shadow: 0 2px 4px rgba(33, 150, 243, 0.3) !important;
    }

    .ufprcal-filter-active:hover {
      background: #1976d2 !important;
    }

    /* Estilo para o campo de busca */
    #ufprcal-search {
      width: 90%;
      max-width: 400px;
      font-size: clamp(0.9rem, 2.5vw, 1.1rem);
      padding: clamp(8px, 2vw, 12px) 16px;
      margin: 4px auto 12px auto;
      border-radius: 8px;
      border: 1.5px solid #2196f3;
      outline: none;
      transition: all 0.2s ease-in-out;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    #ufprcal-search:focus {
      box-shadow: 0 4px 8px rgba(33, 150, 243, 0.15);
      border-color: #1976d2;
    }

    /* Media queries para responsividade */
    @media (max-width: 600px) {
      #ufprcal {
        padding: 0 5px;
      }
      
      #ufprcal-main {
        padding: 3px 1vw 12px 1vw;
      }

      #ufprcal-main > div {
        flex-direction: column !important;
        gap: 8px !important;
        padding: 10px !important;
      }

      #ufprcal-main > div > div:first-child {
        min-width: auto !important;
        text-align: left !important;
      }

      .ufprcal-filter {
        min-width: 70px !important;
        max-width: 100px !important;
        font-size: 0.8rem !important;
        padding: 6px 8px !important;
      }
    }

    @media (max-width: 360px) {
      .ufprcal-filter {
        min-width: 60px !important;
        max-width: 90px !important;
        font-size: 0.75rem !important;
        padding: 4px 6px !important;
      }

      #ufprcal-btn-aluno, 
      #ufprcal-btn-prof {
        min-width: 100px !important;
        font-size: 0.85rem !important;
      }

      #sem1, 
      #sem2 {
        min-width: 120px !important;
        font-size: 0.85rem !important;
      }
    }
  </style>
</head>
<body>
<div id="ufprcal" style="max-width:800px;margin:0 auto;font-family:sans-serif;background:#f6f9fc;padding:0 10px;">
  <div style="text-align:center;padding:12px 4px 6px 4px;color:#02539a;">
    <h1 style="margin: 2px 0 10px 0; font-size: clamp(1.4rem, 4vw, 1.8rem); font-weight: 700; color: #02539a;">
      Calend√°rio UFPR 2025
    </h1>
    <!-- Bot√µes de Aluno/Professor -->
    <div style="display:flex;justify-content:center;gap:8px;margin-bottom:12px;flex-wrap:wrap;">
      <button id="ufprcal-btn-aluno" class="ufprcal-user ufprcal-user-active" onclick="ufprcalSetUser('aluno')">Aluno</button>
      <button id="ufprcal-btn-prof" class="ufprcal-user" onclick="ufprcalSetUser('professor')">Professor</button>
    </div>

    <!-- Bot√µes de semestre -->
    <div style="display:flex;justify-content:center;gap:8px;margin-bottom:12px;flex-wrap:wrap;">
      <button id="sem1" class="ufprcal-sem ufprcal-sem-active" data-sem="1" onclick="ufprcalSetSemester(1)">1¬∫ SEMESTRE</button>
      <button id="sem2" class="ufprcal-sem" data-sem="2" onclick="ufprcalSetSemester(2)">2¬∫ SEMESTRE</button>
    </div>

    <input id="ufprcal-search" type="text" placeholder="Buscar evento..." />

    <!-- Filtros de tipo -->
    <div style="display:flex;flex-wrap:wrap;justify-content:center;gap:6px;margin:4px 0 16px 0;">
      <button id="filt-all" class="ufprcal-filter ufprcal-filter-active" data-type="all" onclick="ufprcalSetFilter('all')">Todos</button>
      <button id="filt-iniciofim" class="ufprcal-filter" data-type="iniciofim" onclick="ufprcalSetFilter('iniciofim')">In√≠cio/Fim</button>
      <button id="filt-exames" class="ufprcal-filter" data-type="exames" onclick="ufprcalSetFilter('exames')">Exames</button>
      <button id="filt-feriado" class="ufprcal-filter" data-type="feriado" onclick="ufprcalSetFilter('feriado')">Feriados</button>
      <button id="filt-matricula" class="ufprcal-filter" data-type="matricula" onclick="ufprcalSetFilter('matricula')">Matr√≠cula</button>
      <button id="filt-nota" class="ufprcal-filter" data-type="nota" onclick="ufprcalSetFilter('nota')">Notas</button>
      <button id="filt-trancamento" class="ufprcal-filter" data-type="trancamento" onclick="ufprcalSetFilter('trancamento')">Trancamento</button>
      <button id="filt-evento" class="ufprcal-filter" data-type="evento" onclick="ufprcalSetFilter('evento')">Eventos</button>
      <button id="filt-prazo" class="ufprcal-filter" data-type="prazo" onclick="ufprcalSetFilter('prazo')">Prazos</button>
    </div>
  </div>
  <div id="ufprcal-main" style="padding:3px 2vw 18px 2vw;"></div>
  <script>
function getDiaSemana(dataStr) {
  const dias = ['domingo', 'segunda', 'ter√ßa', 'quarta', 'quinta', 'sexta', 's√°bado'];
  const [ano, mes, dia] = dataStr.split('-').map(Number);
  const dt = new Date(ano, mes - 1, dia);
  const diaSemana = dias[dt.getDay()];
  const emoji = (dt.getDay() === 0 || dt.getDay() === 6) ? ' üò¢' : '';
  return diaSemana + emoji;
}
    // ---- Configura√ß√£o r√°pida para Google Sites (com onclick) ----
    const ufprcalEvents=[
  {date:'2024-12-09', title:'Prazo final para mudan√ßa de habilita√ß√£o', desc:'Coordena√ß√µes comunicam √† COPAP.', type:'prazo', semester:1, target:'professor'},
  {date:'2024-12-09', title:'Destrancamento autom√°tico de curso', desc:'Discentes que completaram o prazo de trancamento.', type:'trancamento', semester:1, target:'aluno'},
  {date:'2024-12-13', title:'Prazo final para devolu√ß√£o de oferta de turmas', desc:'Departamentos devolvem √†s Coordena√ß√µes.', type:'matricula', semester:1, target:'professor'},
  {date:'2024-12-14', title:'Feriado em Toledo', desc:'Anivers√°rio do munic√≠pio.', type:'feriado', semester:1, target:'ambos'},
  {date:'2024-12-14', title:'Feriado em Jandaia do Sul', desc:'Anivers√°rio do munic√≠pio.', type:'feriado', semester:1, target:'ambos'},
  {date:'2024-12-20', title:'Feriado em Pontal do Paran√°', desc:'Anivers√°rio do munic√≠pio.', type:'feriado', semester:1, target:'ambos'},
  {date:'2024-12-25', title:'Feriado: Natal', desc:'Todos os campi.', type:'feriado', semester:1, target:'ambos'},
  {date:'2024-12-31', title:'Prazo final para lan√ßamento de notas e encerramento das turmas (15 semanas)', desc:'Turmas de 15 semanas.', type:'nota', semester:1, target:'professor'},

  // JANEIRO 2025
  {date:'2025-01-01', title:'Feriado: Confraterniza√ß√£o Universal', desc:'Todos os campi.', type:'feriado', semester:1, target:'ambos'},
  {date:'2025-01-06', title:'In√≠cio do per√≠odo para dispensa de pr√©-requisito/correquisito', desc:'At√© 14/mar.', type:'prazo', semester:1, target:'aluno'},
  {date:'2025-01-06', title:'In√≠cio do destrancamento antecipado de curso (1¬∫ semestre)', desc:'At√© 17/mar.', type:'trancamento', semester:1, target:'aluno'},
  {date:'2025-01-06', title:'In√≠cio do prazo para colegiado deliberar sobre dispensa de pr√©-requisito/correquisito', desc:'At√© 21/mar.', type:'prazo', semester:1, target:'professor'},
  {date:'2025-01-22', title:'Feriado em Palotina', desc:'Padroeiro do munic√≠pio.', type:'feriado', semester:1, target:'ambos'},

  // FEVEREIRO 2025
  {date:'2025-02-10', title:'Prazo final para disponibiliza√ß√£o das turmas para matr√≠cula', desc:'Coordena√ß√£o.', type:'matricula', semester:1, target:'professor'},
  {date:'2025-02-17', title:'Prazo final para lan√ßamento de notas (18 semanas)', desc:'Cursos de 18 semanas.', type:'nota', semester:1, target:'professor'},
  {date:'2025-02-18', title:'Processamento da oferta de turmas', desc:'De 18 a 20/fev.', type:'matricula', semester:1, target:'ambos'},
  {date:'2025-02-21', title:'In√≠cio da solicita√ß√£o de matr√≠cula', desc:'De 21 a 25/fev.', type:'matricula', semester:1, target:'aluno'},
  {date:'2025-02-21', title:'In√≠cio do per√≠odo de avalia√ß√£o de cursos e disciplinas', desc:'De 21/fev a 20/mar.', type:'evento', semester:1, target:'ambos'},

  // MAR√áO 2025
  {date:'2025-03-03', title:'Feriado: Carnaval', desc:'De 3 a 5 de mar√ßo.', type:'feriado', semester:1, target:'ambos'},
  {date:'2025-03-06', title:'Processamento dos ajustes on-line de matr√≠cula', desc:'', type:'matricula', semester:1, target:'ambos'},
  {date:'2025-03-07', title:'In√≠cio do per√≠odo de solicita√ß√£o de ajuste de matr√≠cula na Coordena√ß√£o', desc:'At√© 19/mar.', type:'matricula', semester:1, target:'aluno'},
  {date:'2025-03-10', title:'In√≠cio do per√≠odo letivo 2025/1', desc:'In√≠cio do semestre.', type:'iniciofim', semester:1, target:'ambos'},
  {date:'2025-03-10', title:'Semana de recep√ß√£o de discentes', desc:'De 10 a 14/mar.', type:'evento', semester:1, target:'ambos'},
  {date:'2025-03-17', title:'Prazo final para destrancamento antecipado de curso', desc:'Para o primeiro semestre.', type:'trancamento', semester:1, target:'aluno'},
  {date:'2025-03-17', title:'Per√≠odo para matr√≠cula em disciplina eletiva/isolada', desc:'17 e 18/mar.', type:'matricula', semester:1, target:'aluno'},
  {date:'2025-03-19', title:'Prazo final para solicita√ß√£o de ajuste de matr√≠cula na Coordena√ß√£o', desc:'', type:'matricula', semester:1, target:'aluno'},
  {date:'2025-03-19', title:'Feriado em Pontal do Paran√°', desc:'Padroeiro do munic√≠pio.', type:'feriado', semester:1, target:'ambos'},
  {date:'2025-03-21', title:'Prazo final para solicita√ß√£o de exames de adiantamento de conhecimento', desc:'', type:'prazo', semester:1, target:'aluno'},
  {date:'2025-03-24', title:'Prazo final para a Coordena√ß√£o realizar o ajuste de matr√≠cula', desc:'', type:'matricula', semester:1, target:'professor'},
  {date:'2025-03-24', title:'In√≠cio do per√≠odo de trancamento de curso semestral com matr√≠cula', desc:'De 24/mar a 06/mai.', type:'trancamento', semester:1, target:'aluno'},
  {date:'2025-03-24', title:'In√≠cio do per√≠odo de cancelamento de matr√≠cula em disciplina semestral', desc:'De 24/mar a 06/mai.', type:'trancamento', semester:1, target:'aluno'},
  {date:'2025-03-24', title:'In√≠cio do per√≠odo de solicita√ß√£o de mudan√ßa de habilita√ß√£o (2¬∫ semestre)', desc:'De 24/mar a 02/jun.', type:'prazo', semester:1, target:'aluno'},

  // ABRIL 2025
  {date:'2025-04-04', title:'Prazo final para registro de trancamento de curso sem matr√≠cula', desc:'', type:'trancamento', semester:1, target:'professor'}, // Coordena√ß√£o registra
  {date:'2025-04-18', title:'Feriado: Sexta-feira Santa', desc:'', type:'feriado', semester:1, target:'ambos'},
  {date:'2025-04-21', title:'Feriado: Tiradentes', desc:'', type:'feriado', semester:1, target:'ambos'},
  {date:'2025-04-22', title:'Prazo final para solicitar corre√ß√µes no hist√≥rico escolar', desc:'Ano letivo 2024.', type:'prazo', semester:1, target:'aluno'},

  // MAIO 2025
  {date:'2025-05-01', title:'Feriado: Dia do Trabalho', desc:'', type:'feriado', semester:1, target:'ambos'},
  {date:'2025-05-05', title:'In√≠cio da oferta de turmas para o 2¬∫ semestre', desc:'De 5/mai a 24/jun.', type:'matricula', semester:1, target:'professor'},
  {date:'2025-05-06', title:'Prazo final para cancelamento de matr√≠cula em disciplina semestral', desc:'', type:'trancamento', semester:1, target:'aluno'},
  {date:'2025-05-06', title:'Prazo final para trancamento de curso semestral com matr√≠cula', desc:'', type:'trancamento', semester:1, target:'aluno'},
  {date:'2025-05-12', title:'Inativa√ß√£o das turmas sem matr√≠cula', desc:'', type:'evento', semester:1, target:'professor'}, // Impacta planejamento do departamento/coordena√ß√£o
  {date:'2025-05-26', title:'Prazo final para lan√ßamento de equival√™ncia de disciplinas', desc:'Inclui an√°lise pelo colegiado.', type:'nota', semester:1, target:'professor'},

  // JUNHO 2025
  {date:'2025-06-02', title:'Prazo final para solicita√ß√£o de mudan√ßa de habilita√ß√£o (2¬∫ semestre)', desc:'', type:'prazo', semester:1, target:'aluno'},
  {date:'2025-05-22', title:'Universo UFPR', desc:'De 22 a 25/maio.', type:'evento', semester:1, target:'ambos'},
  {date:'2025-06-06', title:'Prazo final para exame de aproveitamento de conhecimento', desc:'', type:'prazo', semester:1, target:'aluno'}, // Prazo para o aluno realizar
  {date:'2025-06-06', title:'Prazo final para solicita√ß√£o de perman√™ncia em curso 2025/2', desc:'', type:'prazo', semester:1, target:'aluno'},
  {date:'2025-06-09', title:'In√≠cio dos exames de aproveitamento de conhecimento', desc:'De 9/jun a 02/jul.', type:'evento', semester:1, target:'ambos'}, // Aluno faz, professor aplica
  {date:'2025-06-12', title:'Feriado em Matinhos', desc:'Anivers√°rio do munic√≠pio.', type:'feriado', semester:1, target:'ambos'},
  {date:'2025-06-19', title:'Feriado: Corpus Christi', desc:'', type:'feriado', semester:1, target:'ambos'},
  {date:'2025-06-23', title:'In√≠cio do lan√ßamento de notas e frequ√™ncia', desc:'De 23/jun a 19/jul.', type:'nota', semester:1, target:'professor'},
  {date:'2025-06-24', title:'Prazo final de oferta de turmas (2¬∫ semestre)', desc:'Coordena√ß√£o para Departamentos.', type:'matricula', semester:1, target:'professor'},
  {date:'2025-06-29', title:'Feriado em Matinhos', desc:'Padroeiro do munic√≠pio.', type:'feriado', semester:1, target:'ambos'},

  // JULHO 2025
  {date:'2025-07-01', title:'Prazo final para corre√ß√µes de matr√≠cula (2025/1 e anuais)', desc:'Motivos administrativos.', type:'matricula', semester:1, target:'professor'}, // Corre√ß√£o administrativa
  {date:'2025-07-02', title:'Fim do per√≠odo letivo 2025/1 (15 semanas)', desc:'', type:'iniciofim', semester:1, target:'ambos'},
  {date:'2025-07-07', title:'Destrancamento autom√°tico de curso', desc:'Discentes que completaram um ano de trancamento.', type:'trancamento', semester:1, target:'aluno'},
  {date:'2025-07-07', title:'Exames Primeiro Semestre (15 semanas)', desc:'De 7 a 12/jul.', type:'exames', semester:1, target:'ambos'}, // Aluno faz, professor aplica
  {date:'2025-07-08', title:'Prazo final para devolu√ß√£o de oferta de turmas (2¬∫ semestre)', desc:'', type:'matricula', semester:1, target:'professor'},
  {date:'2025-07-12', title:'Fim do per√≠odo letivo 2025/1 (18 semanas)', desc:'', type:'iniciofim', semester:1, target:'ambos'},
  {date:'2025-07-12', title:'Fim do per√≠odo letivo do Curso T√©cnico de Petr√≥leo e G√°s', desc:'', type:'iniciofim', semester:1, target:'professor'},
  {date:'2025-07-14', title:'Exames Primeiro Semestre (18 semanas)', desc:'De 14 a 19/jul.', type:'exames', semester:1, target:'professor'}, // Aluno faz, professor aplica (Corrigido 'Exames' para 'exames')

  {date:'2025-07-24', title:'Solicita√ß√£o de Matr√≠cula em Disciplinas (2¬∫ semestre)', desc:'De 24 a 27/jul', type:'matricula', semester:2, target:'ambos'},
  // SEGUNDO SEMESTRE (AGO-DEZ)
  // AGOSTO 2025
  {date:'2025-08-01', title:'Processamento dos ajustes on-line de matr√≠cula', desc:'', type:'matricula', semester:2, target:'ambos'},
  {date:'2025-08-02', title:'In√≠cio do ajuste de matr√≠cula na Coordena√ß√£o', desc:'De 2 a 13/ago.', type:'matricula', semester:2, target:'aluno'}, // Aluno solicita, coordena√ß√£o ajusta
  {date:'2025-08-04', title:'In√≠cio do per√≠odo letivo 2025/2', desc:'', type:'iniciofim', semester:2, target:'ambos'},
  {date:'2025-08-04', title:'Semana de recep√ß√£o de discentes', desc:'De 4 a 8/ago.', type:'evento', semester:2, target:'ambos'},
  {date:'2025-08-08', title:'Prazo final para cancelamento de matr√≠cula em disciplina anual', desc:'', type:'trancamento', semester:2, target:'professor'},
  {date:'2025-08-08', title:'Prazo final para trancamento de curso anual com matr√≠cula', desc:'', type:'trancamento', semester:2, target:'professor'},
  {date:'2025-08-11', title:'Prazo final para destrancamento antecipado de curso', desc:'Para o segundo semestre.', type:'trancamento', semester:2, target:'professor'},
  {date:'2025-08-12', title:'T√©rmino do per√≠odo letivo para o Curso T√©cnico de Petr√≥leo e G√°s', desc:'', type:'iniciofim', semester:2, target:'professor'},
  {date:'2025-08-15', title:'Prazo final para solicita√ß√£o de trancamento de curso sem matr√≠cula', desc:'', type:'trancamento', semester:2, target:'aluno'},
  {date:'2025-08-18', title:'Prazo final para solicita√ß√£o de equival√™ncia de disciplinas', desc:'', type:'prazo', semester:2, target:'aluno'},

  // SETEMBRO 2025
  {date:'2025-09-05', title:'Prazo final para colegiado deliberar sobre adiantamento de conhecimento', desc:'', type:'prazo', semester:2, target:'professor'},
  {date:'2025-09-07', title:'Feriado: Independ√™ncia do Brasil', desc:'', type:'feriado', semester:2, target:'ambos'},
  {date:'2025-09-08', title:'Feriado em Curitiba', desc:'Padroeira do munic√≠pio.', type:'feriado', semester:2, target:'ambos'},
  {date:'2025-09-13', title:'Prazo final para corre√ß√µes no hist√≥rico escolar relativas a 2025/1', desc:'', type:'prazo', semester:2, target:'professor'},
  {date:'2025-09-22', title:'Prazo final para cadastramento de matr√≠cula em mobilidade acad√™mica', desc:'Para sa√≠da em 2025/2.', type:'matricula', semester:2, target:'professor'},
  {date:'2025-09-26', title:'Prazo final para ajuste e adi√ß√£o curricular (in√≠cio 1¬∫ semestre)', desc:'Colegiados encaminham √† PROGRAD.', type:'prazo', semester:2, target:'professor'},
  {date:'2025-09-30', title:'Prazo final para cola√ß√£o de grau (2025/1)', desc:'Coordena√ß√£o de curso envia √† COPAP.', type:'prazo', semester:2, target:'professor'}, // Coordena√ß√£o envia, mas √© sobre alunos concluintes

  // OUTUBRO 2025
  {date:'2025-10-06', title:'Prazo final para cancelamento de matr√≠cula em disciplina semestral', desc:'', type:'trancamento', semester:2, target:'aluno'},
  {date:'2025-10-06', title:'Prazo final para trancamento de curso semestral com matr√≠cula', desc:'', type:'trancamento', semester:2, target:'aluno'},
  {date:'2025-10-10', title:'Prazo final para lan√ßamento de notas de adiantamento de conhecimento', desc:'', type:'nota', semester:2, target:'professor'},
  {date:'2025-10-12', title:'Feriado: Nossa Senhora Aparecida', desc:'', type:'feriado', semester:2, target:'ambos'},
  {date:'2025-10-15', title:'Prazo final para cancelamento de registro acad√™mico', desc:'Para discentes sem matr√≠cula e sem trancamento.', type:'trancamento', semester:2, target:'aluno'}, // Impacta diretamente o aluno
  {date:'2025-10-17', title:'Prazo final para lan√ßamento de equival√™ncia de disciplinas', desc:'', type:'nota', semester:2, target:'professor'},
  {date:'2025-10-18', title:'Recesso acad√™mico para ensalamento do Processo Seletivo', desc:'De 18 a 19/out.', type:'evento', semester:2, target:'ambos'},
  {date:'2025-10-19', title:'Realiza√ß√£o da 1¬™ Fase do Processo Seletivo UFPR 2025/2026', desc:'', type:'evento', semester:2, target:'professor'}, // Interessados no vestibular, mas a universidade para
  {date:'2025-10-20', title:'Festival UFPR da Ci√™ncia, Cultura e Inova√ß√£o / SIEPE', desc:'De 20 a 24/out.', type:'evento', semester:2, target:'ambos'},
  {date:'2025-10-28', title:'Dia do Servidor P√∫blico', desc:'', type:'evento', semester:2, target:'ambos'}, // Feriado/ponto facultativo para servidores, incluindo professores
  {date:'2025-10-31', title:'Prazo final para solicita√ß√£o de exame de aproveitamento de conhecimento', desc:'', type:'prazo', semester:2, target:'aluno'},

  // NOVEMBRO 2025
  {date:'2025-11-02', title:'Feriado: Finados', desc:'', type:'feriado', semester:2, target:'ambos'},
  {date:'2025-11-12', title:'Prazo final para solicita√ß√£o de perman√™ncia em curso (2026/1)', desc:'Alunos protocolam nas coordena√ß√µes.', type:'prazo', semester:2, target:'professor'},
  {date:'2025-11-15', title:'Feriado: Proclama√ß√£o da Rep√∫blica', desc:'', type:'feriado', semester:2, target:'ambos'},
  {date:'2025-11-20', title:'Feriado: Dia Nacional da Consci√™ncia Negra', desc:'', type:'feriado', semester:2, target:'ambos'},
  {date:'2025-11-28', title:'Prazo final de oferta de turmas anuais e do 1¬∫ semestre', desc:'Coordena√ß√£o para Departamentos.', type:'matricula', semester:2, target:'professor'},

  // DEZEMBRO 2025
  {date:'2025-12-01', title:'Prazo final para corre√ß√µes de matr√≠cula em disciplinas semestrais (2025/2)', desc:'Motivos administrativos.', type:'matricula', semester:2, target:'professor'}, // Corre√ß√£o administrativa
  {date:'2025-12-06', title:'Fim do per√≠odo letivo 2025/2', desc:'', type:'iniciofim', semester:2, target:'ambos'},
  {date:'2025-12-11', title:'Prazo final para comunicar mudan√ßa de habilita√ß√£o', desc:'Coordena√ß√£o comunica √† COPAP.', type:'prazo', semester:2, target:'professor'},
  {date:'2025-12-11', title:'Destrancamento autom√°tico de curso', desc:'Discentes que completaram o per√≠odo de trancamento.', type:'trancamento', semester:2, target:'aluno'},
  {date:'2025-12-14', title:'Feriado em Toledo', desc:'Anivers√°rio do munic√≠pio.', type:'feriado', semester:2, target:'ambos'},
  {date:'2025-12-14', title:'Feriado em Jandaia do Sul', desc:'Anivers√°rio do munic√≠pio.', type:'feriado', semester:2, target:'ambos'},
  {date:'2025-12-15', title:'Exames Segundo Semestre', desc:'De 15 a 20/dez.', type:'exames', semester:2, target:'ambos'}, // Aluno faz, professor aplica
  {date:'2025-12-20', title:'Feriado em Pontal do Paran√°', desc:'Anivers√°rio do munic√≠pio.', type:'feriado', semester:2, target:'ambos'},
  {date:'2025-12-22', title:'In√≠cio do per√≠odo para segunda avalia√ß√£o final (disciplinas anuais)', desc:'De 22/dez a 02/jan.', type:'evento', semester:2, target:'ambos'}, // Aluno faz, professor aplica
  {date:'2025-12-25', title:'Feriado: Natal', desc:'', type:'feriado', semester:2, target:'ambos'},
  {date:'2025-12-31', title:'Prazo final para lan√ßamento de notas e frequ√™ncia e encerramento das turmas', desc:'', type:'nota', semester:2, target:'professor'},

  // JANEIRO 2026
  {date:'2026-01-01', title:'Feriado: Confraterniza√ß√£o Universal', desc:'', type:'feriado', semester:2, target:'ambos'},
  {date:'2026-01-12', title:'Per√≠odo para segunda avalia√ß√£o final (disciplinas anuais)', desc:'De 12 a 17/jan.', type:'evento', semester:2, target:'ambos'}, // Aluno faz, professor aplica
  {date:'2026-01-12', title:'Prazo final para devolu√ß√£o de oferta de turmas √†s Coordena√ß√µes', desc:'', type:'matricula', semester:2, target:'professor'},
  {date:'2026-01-27', title:'Prazo final para Coordena√ß√£o disponibilizar turmas para matr√≠cula', desc:'', type:'matricula', semester:2, target:'professor'},

  // FEVEREIRO 2026
  {date:'2026-02-16', title:'Feriado: Carnaval', desc:'De 16 a 18/fev.', type:'feriado', semester:2, target:'ambos'},

  // MAR√áO 2026
  {date:'2026-03-02', title:'Prov√°vel in√≠cio do per√≠odo letivo 2026/1', desc:'', type:'iniciofim', semester:2, target:'ambos'},

  {date:'2025-02-21', title:'In√≠cio do per√≠odo de trancamento de curso sem matr√≠cula', desc:'De 21/fev a 21/mar.', type:'trancamento', semester:1, target:'aluno'},
  {date:'2025-02-21', title:'In√≠cio do prazo para Coordena√ß√£o registrar trancamento de curso sem matr√≠cula', desc:'De 21/fev a 04/abr.', type:'trancamento', semester:1, target:'professor'}, // Coordena√ß√£o registra
  {date:'2025-02-26', title:'Processamento de matr√≠culas', desc:'26 e 27/fev.', type:'matricula', semester:1, target:'ambos'},
  {date:'2025-02-27', title:'Segundo processamento de turmas', desc:'', type:'matricula', semester:1, target:'ambos'},
  {date:'2025-02-28', title:'In√≠cio do per√≠odo para altera√ß√£o de vagas nas turmas', desc:'De 28/fev a 21/mar.', type:'matricula', semester:1, target:'professor'}, // Coordena√ß√£o/Departamento altera
  {date:'2025-02-28', title:'In√≠cio do ajuste on-line de matr√≠cula', desc:'De 28/fev a 05/mar.', type:'matricula', semester:1, target:'aluno'},
  {date:'2025-03-10', title:'In√≠cio da confirma√ß√£o de matr√≠cula e ocupa√ß√£o da vaga', desc:'De 10 a 12/mar.', type:'matricula', semester:1, target:'aluno'},
  {date:'2025-03-10', title:'In√≠cio da solicita√ß√£o de exame de adiantamento de conhecimento', desc:'De 10 a 21/mar.', type:'prazo', semester:1, target:'aluno'},
  {date:'2025-03-10', title:'In√≠cio do pedido de equival√™ncia de disciplinas', desc:'De 10 a 26/mar.', type:'prazo', semester:1, target:'aluno'},
  {date:'2025-03-10', title:'In√≠cio do lan√ßamento de equival√™ncia de disciplinas', desc:'De 10/mar a 26/mai.', type:'nota', semester:1, target:'professor'},
  {date:'2025-03-19', title:'In√≠cio da an√°lise de pedidos de disciplinas eletivas', desc:'De 19 a 26/mar.', type:'evento', semester:1, target:'professor'}, // Coordena√ß√£o/Colegiado analisa
  {date:'2025-03-21', title:'Prazo final para Coordena√ß√µes de Curso enviarem √† COPAP a rela√ß√£o de estudantes que pediram perman√™ncia em curso e conclu√≠ram o curso em 2024/2', desc:'', type:'prazo', semester:1, target:'professor'},
  {date:'2025-03-21', title:'Prazo final para colegiado deliberar sobre dispensa de pr√©-requisito/correquisito', desc:'', type:'prazo', semester:1, target:'professor'},
  {date:'2025-03-21', title:'Prazo final para trancamento de curso sem matr√≠cula', desc:'', type:'trancamento', semester:1, target:'aluno'},
  {date:'2025-04-04', title:'Prazo final para colegiado encaminhar ajuste e adi√ß√£o curricular (2¬∫ semestre)', desc:'', type:'prazo', semester:1, target:'professor'},
  {date:'2025-04-11', title:'Prazo final para colegiado deliberar sobre adiantamento de conhecimento', desc:'', type:'prazo', semester:1, target:'professor'},
  {date:'2025-04-11', title:'Prazo final para Coordena√ß√£o tramitar exames de adiantamento de conhecimento', desc:'', type:'prazo', semester:1, target:'professor'},
  {date:'2025-04-14', title:'In√≠cio dos exames de adiantamento de conhecimento', desc:'De 14/abr a 05/mai.', type:'evento', semester:1, target:'ambos'}, // Aluno faz, professor aplica
  {date:'2025-05-02', title:'Prazo final para processos de cola√ß√£o de grau (2024/2)', desc:'', type:'prazo', semester:1, target:'professor'}, // Coordena√ß√£o lida com os processos
  {date:'2025-05-14', title:'In√≠cio do lan√ßamento de notas de adiantamento de conhecimento', desc:'De 14 a 16/mai.', type:'nota', semester:1, target:'professor'},
  {date:'2025-05-16', title:'Prazo final para departamentos lan√ßarem resultados de adiantamento de conhecimento', desc:'', type:'nota', semester:1, target:'professor'},
  {date:'2025-05-18', title:'Prazo final para cadastramento de mobilidade acad√™mica (sa√≠da 2025/1)', desc:'', type:'prazo', semester:1, target:'aluno'},
  {date:'2025-05-21', title:'Prazo final para cancelamento de registro acad√™mico (sem matr√≠cula e sem trancamento)', desc:'', type:'trancamento', semester:1, target:'aluno'}, // Impacta diretamente o aluno
  {date:'2025-05-26', title:'In√≠cio do per√≠odo para exame de aproveitamento de conhecimento', desc:'De 26/mai a 06/jun.', type:'prazo', semester:1, target:'ambos'}, // Aluno faz, professor aplica
  {date:'2025-05-30', title:'Prazo final para proposta de reformula√ß√£o curricular', desc:'', type:'prazo', semester:1, target:'professor'},
  {date:'2025-06-24', title:'Feriado em Jandaia do Sul', desc:'Padroeiro do munic√≠pio.', type:'feriado', semester:1, target:'ambos'},
  {date:'2025-06-30', title:'In√≠cio do ajuste de matr√≠culas (Per√≠odo Especial 2025/1)', desc:'De 30/jun a 19/jul.', type:'matricula', semester:1, target:'aluno'},
  {date:'2025-07-02', title:'Prazo final para envio de processos √† COPAP (Per√≠odo Especial 2025/1)', desc:'', type:'prazo', semester:1, target:'professor'},
  {date:'2025-07-03', title:'In√≠cio do cancelamento de matr√≠cula (Per√≠odo Especial 2025/1)', desc:'De 3 a 24/jul.', type:'trancamento', semester:1, target:'aluno'},
  {date:'2025-07-03', title:'In√≠cio das aulas (Per√≠odo Especial 2025/1)', desc:'De 3/jul a 02/ago.', type:'iniciofim', semester:1, target:'ambos'},
  {date:'2025-07-07', title:'Prazo final para Coordena√ß√£o comunicar mudan√ßa de habilita√ß√£o (2025/1)', desc:'', type:'prazo', semester:1, target:'professor'},
  {date:'2025-07-09', title:'In√≠cio do lan√ßamento de notas de aproveitamento de conhecimento', desc:'De 9 a 15/jul.', type:'nota', semester:1, target:'professor'},
  {date:'2025-07-09', title:'In√≠cio do lan√ßamento de atividades formativas', desc:'De 9 a 18/jul.', type:'evento', semester:1, target:'professor'}, // Geralmente professor/coordena√ß√£o que lan√ßa
  {date:'2025-07-15', title:'Prazo final para Departamentos registrarem resultados dos exames de aproveitamento de conhecimento', desc:'', type:'nota', semester:1, target:'professor'},
  {date:'2025-07-18', title:'Prazo final para Coordena√ß√£o disponibilizar as turmas para matr√≠cula (2¬∫ semestre)', desc:'', type:'matricula', semester:2, target:'professor'},
  {date:'2025-07-18', title:'Prazo final para lan√ßamento de atividades formativas', desc:'', type:'evento', semester:1, target:'professor'},
  {date:'2025-07-19', title:'Prazo final para lan√ßamento de notas e frequ√™ncia e encerramento das turmas', desc:'', type:'nota', semester:1, target:'professor'},
  {date:'2025-07-21', title:'In√≠cio do per√≠odo de avalia√ß√£o de disciplinas (CPA)', desc:'De 21/jul a 14/ago.', type:'evento', semester:1, target:'ambos'}, // Alunos avaliam, disciplinas/professores s√£o avaliados
  {date:'2025-07-25', title:'Feriado em Palotina', desc:'Anivers√°rio do munic√≠pio.', type:'feriado', semester:1, target:'ambos'},
  {date:'2025-07-29', title:'In√≠cio do lan√ßamento de notas (Per√≠odo Especial 2025/1)', desc:'De 29/jul a 09/ago.', type:'nota', semester:1, target:'professor'},
  {date:'2025-07-30', title:'Solicita√ß√£o de ajuste on-line de matr√≠cula (2¬∫ semestre)', desc:'30 e 31/jul.', type:'matricula', semester:2, target:'aluno'},
  {date:'2025-07-31', title:'Prazo final para Colegiados enviarem √† PROGRAD a implanta√ß√£o de curr√≠culo para novos cursos (in√≠cio em 2027)', desc:'', type:'prazo', semester:1, target:'professor'},
  {date:'2025-07-07', title:'In√≠cio do destrancamento antecipado de curso (2¬∫ semestre)', desc:'De 7/jul a 11/ago.', type:'trancamento', semester:2, target:'aluno'},
  {date:'2025-07-16', title:'In√≠cio da dispensa de pr√©-requisito/correquisito (2¬∫ semestre)', desc:'De 16/jul a 08/ago.', type:'prazo', semester:2, target:'aluno'},
  {date:'2025-07-16', title:'In√≠cio do prazo para colegiado deliberar sobre dispensa de pr√©-requisito/correquisito', desc:'De 16/jul a 15/ago.', type:'prazo', semester:2, target:'professor'},
  {date:'2025-08-04', title:'In√≠cio da confirma√ß√£o de matr√≠cula e ocupa√ß√£o da vaga (2¬∫ semestre)', desc:'De 4 a 6/ago.', type:'matricula', semester:2, target:'aluno'},
  {date:'2025-08-04', title:'In√≠cio da solicita√ß√£o de exame de adiantamento de conhecimento', desc:'De 4 a 15/ago.', type:'prazo', semester:2, target:'aluno'},
  {date:'2025-08-04', title:'In√≠cio do pedido de equival√™ncia de disciplinas', desc:'De 4 a 18/ago.', type:'prazo', semester:2, target:'aluno'},
  {date:'2025-08-04', title:'In√≠cio do lan√ßamento de equival√™ncia de disciplinas', desc:'De 4/ago a 17/out.', type:'nota', semester:2, target:'professor'},
  {date:'2025-08-11', title:'Per√≠odo de matr√≠cula em disciplina eletiva/isolada', desc:'11 e 12/ago.', type:'matricula', semester:2, target:'aluno'},
  {date:'2025-08-13', title:'Prazo final para solicita√ß√£o de ajuste de matr√≠cula na Coordena√ß√£o', desc:'', type:'matricula', semester:2, target:'aluno'},
  {date:'2025-08-13', title:'In√≠cio da an√°lise de pedidos de disciplinas eletivas', desc:'De 13 a 20/ago.', type:'evento', semester:2, target:'professor'}, // Coordena√ß√£o/Colegiado analisa
  {date:'2025-08-15', title:'Prazo final para Coordena√ß√£o encaminhar perman√™ncia em curso (2025/1)', desc:'', type:'prazo', semester:2, target:'professor'},
  {date:'2025-08-15', title:'Prazo final para solicita√ß√£o de exame de adiantamento de conhecimento', desc:'', type:'prazo', semester:2, target:'aluno'},
  {date:'2025-08-18', title:'In√≠cio do per√≠odo para colegiado deliberar sobre adiantamento de conhecimento', desc:'De 18/ago a 05/set.', type:'prazo', semester:2, target:'professor'},
  {date:'2025-08-18', title:'In√≠cio do cancelamento de matr√≠cula em disciplina semestral', desc:'De 18/ago a 06/out.', type:'trancamento', semester:2, target:'aluno'},
  {date:'2025-08-18', title:'In√≠cio do trancamento de curso semestral com matr√≠cula', desc:'De 18/ago a 06/out.', type:'trancamento', semester:2, target:'aluno'},
  {date:'2025-08-18', title:'In√≠cio do pedido de mudan√ßa de habilita√ß√£o (semestre seguinte)', desc:'De 18/ago a 12/nov.', type:'prazo', semester:2, target:'aluno'},
  {date:'2025-08-29', title:'Prazo final para Coordena√ß√£o registrar trancamento de curso sem matr√≠cula', desc:'', type:'trancamento', semester:2, target:'professor'}, // Coordena√ß√£o registra
  {date:'2025-09-05', title:'Prazo final para colegiado deliberar sobre adiantamento de conhecimento', desc:'', type:'prazo', semester:2, target:'professor'},
  {date:'2025-09-05', title:'Prazo final para Coordena√ß√£o tramitar exames de adiantamento de conhecimento', desc:'', type:'prazo', semester:2, target:'professor'},
  {date:'2025-09-08', title:'In√≠cio dos exames de adiantamento de conhecimento', desc:'De 8 a 27/set.', type:'evento', semester:2, target:'ambos'}, // Aluno faz, professor aplica
  {date:'2025-10-07', title:'Inativa√ß√£o das turmas sem matr√≠cula', desc:'', type:'evento', semester:2, target:'professor'}, // Impacta planejamento do departamento/coordena√ß√£o
  {date:'2025-10-08', title:'In√≠cio do lan√ßamento de notas de adiantamento de conhecimento', desc:'De 8 a 10/out.', type:'nota', semester:2, target:'professor'},
  {date:'2025-10-20', title:'In√≠cio do pedido de exame de aproveitamento de conhecimento', desc:'De 20 a 31/out.', type:'prazo', semester:2, target:'aluno'},
  {date:'2025-10-29', title:'In√≠cio da oferta de turmas anuais e do 1¬∫ semestre', desc:'De 29/out a 28/nov.', type:'matricula', semester:2, target:'professor'},
  {date:'2025-10-29', title:'In√≠cio do ajuste e tramita√ß√£o de turmas pelos Departamentos', desc:'De 29/out a 12/dez.', type:'matricula', semester:2, target:'professor'},
  {date:'2025-11-04', title:'Semana Acad√™mica Integrada de Artes, Comunica√ß√£o e Design', desc:'De 4 a 7/nov.', type:'evento', semester:2, target:'ambos'},
  {date:'2025-11-10', title:'In√≠cio dos exames de aproveitamento de conhecimento', desc:'De 10/nov a 06/dez.', type:'evento', semester:2, target:'ambos'}, // Aluno faz, professor aplica
  {date:'2025-11-10', title:'In√≠cio do lan√ßamento de notas de aproveitamento de conhecimento', desc:'De 10/nov a 31/dez.', type:'nota', semester:2, target:'professor'},
  {date:'2025-11-10', title:'In√≠cio do lan√ßamento de atividades formativas', desc:'De 10/nov a 31/dez.', type:'evento', semester:2, target:'professor'}, // Geralmente professor/coordena√ß√£o que lan√ßa
  {date:'2025-11-12', title:'Prazo final para solicita√ß√£o de mudan√ßa de habilita√ß√£o', desc:'', type:'prazo', semester:2, target:'aluno'},
  {date:'2025-11-29', title:'Recesso acad√™mico para 2¬™ Fase do Processo Seletivo', desc:'De 29/nov a 01/dez.', type:'evento', semester:2, target:'ambos'},
  {date:'2025-11-30', title:'2¬™ Fase do Processo Seletivo UFPR 2025/2026', desc:'30/nov e 01/dez.', type:'evento', semester:2, target:'ambos'}, // Interessados no vestibular, mas a universidade para
  {date:'2025-12-01', title:'In√≠cio do per√≠odo de lan√ßamento de notas e frequ√™ncia', desc:'De 1 a 31/dez.', type:'nota', semester:2, target:'professor'},
  {date:'2025-12-01', title:'In√≠cio do ajuste de matr√≠culas (Per√≠odo Especial 2025/2)', desc:'De 1/dez a 16/jan.', type:'matricula', semester:2, target:'aluno'},
  {date:'2025-12-12', title:'Prazo final para envio de processos √† COPAP (Per√≠odo Especial 2025/2)', desc:'', type:'prazo', semester:2, target:'professor'},
  {date:'2025-12-13', title:'Fim do per√≠odo letivo do Curso T√©cnico de Petr√≥leo e G√°s', desc:'', type:'iniciofim', semester:2, target:'professor'},
  {date:'2026-01-11', title:'In√≠cio das aulas (Per√≠odo Especial 2025/2)', desc:'De 11/jan a 21/fev.', type:'iniciofim', semester:2, target:'ambos'},
  {date:'2026-01-11', title:'In√≠cio do cancelamento de matr√≠cula (Per√≠odo Especial 2025/2)', desc:'De 11 a 23/jan.', type:'trancamento', semester:2, target:'aluno'},
      {date:'2026-01-22', title:'Feriado em Palotina', desc:'Padroeiro do munic√≠pio.', type:'feriado', semester:2, target:'ambos'},
      {date:'2026-01-26', title:'In√≠cio do lan√ßamento de notas (Per√≠odo Especial 2025/2)', desc:'De 26/jan a 27/fev.', type:'nota', semester:2, target:'professor'}

    ];

    const ufprcalICONS={
      feriado:'üéâ',
      exames:'üíÄ',
      prazo:'‚è∞',
      matricula:'üìù',
      nota:'üìä',
      evento:'üìÖ',
      trancamento:'üö™',
      iniciofim:'üèÅ'
    };
    let ufprcalSemester=1,ufprcalType='all',ufprcalSearch='';
    let ufprcalUser='aluno'; // aluno √© o padr√£o inicial

    window.ufprcalSetUser = function(user) {
      ufprcalUser = user;
      document.getElementById('ufprcal-btn-aluno').classList.remove('ufprcal-user-active');
      document.getElementById('ufprcal-btn-prof').classList.remove('ufprcal-user-active');
      document.getElementById('ufprcal-btn-aluno').style.background = '#fff';
      document.getElementById('ufprcal-btn-aluno').style.color = '#2196f3';
      document.getElementById('ufprcal-btn-aluno').style.border = '1.5px solid #2196f3';
      document.getElementById('ufprcal-btn-prof').style.background = '#fff';
      document.getElementById('ufprcal-btn-prof').style.color = '#2196f3';
      document.getElementById('ufprcal-btn-prof').style.border = '1.5px solid #2196f3';
      let btn = document.getElementById(user === 'aluno' ? 'ufprcal-btn-aluno' : 'ufprcal-btn-prof');
      btn.classList.add('ufprcal-user-active');
      btn.style.background = '#2196f3';
      btn.style.color = '#fff';
      btn.style.border = 'none';
      ufprcalRender();
    };

    function ufprcalRender(){
      let evs=ufprcalEvents.filter(e=>e.semester===ufprcalSemester);

      // FILTRO POR USU√ÅRIO
      if(ufprcalUser === 'aluno'){
        evs = evs.filter(e => e.target === 'aluno' || e.target === 'ambos');
      }

      // filtro por tipo
      if(ufprcalType!=='all')evs=evs.filter(e=>e.type===ufprcalType);

      // filtro busca
      if(ufprcalSearch.length>0){
        const st=ufprcalSearch.toLowerCase();
        evs=evs.filter(e=>(e.title+e.desc).toLowerCase().includes(st)||ufprcalFmt(e.date).includes(st));
      }
evs.sort((a, b) => a.date.localeCompare(b.date));
const today = (new Date()).toISOString().slice(0,10);
const futuros = evs.filter(e => e.date >= today);
const passados = evs.filter(e => e.date < today);
const ordenados = [...futuros, ...passados];

let html = '';
if (!ordenados.length) {
  html = '<div style="color:#999;padding:26px 0;text-align:center;">Nenhum evento.</div>';
} else ordenados.forEach(e => {
  let faded=e.date<today?'opacity:.52;filter:grayscale(0.45);background:#ececec;':'';
  let border={
    feriado:'#ff9800',
    prazo:'#f44336',
    matricula:'#4caf50',
    nota:'#8e24aa',
    evento:'#2196f3',
    trancamento:'#90a4ae',
    iniciofim:'#ff4a92'
  }[e.type]||'#2196f3';

  // Adicionar dia da semana para feriados
  let descExtra = '';
  if (e.type === 'feriado') {
    const diaSemana = getDiaSemana(e.date);
    descExtra = `<span style="font-weight:500;color:#026;">(${diaSemana})</span>`;
  }

  html += `
    <div style="display:flex;gap:clamp(8px, 2vw, 12px);background:#fff;border-left:6px solid ${border};
    border-radius:11px;margin:8px 0;padding:clamp(10px, 2vw, 14px);align-items:flex-start;${faded}">
      <div style="font-weight:700;font-size:clamp(1rem, 2.5vw, 1.2rem);min-width:55px;color:#02539a;text-align:center;">
        ${ufprcalFmt(e.date)}
      </div>
      <div style="flex:1;">
        <div style="font-weight:600;font-size:clamp(0.95rem, 2.5vw, 1.1rem);margin-bottom:2px;">
          <span style="font-size:clamp(1.1rem, 3vw, 1.3rem);">${ufprcalICONS[e.type]||''}</span> ${e.title}
        </div>
        <div style="font-size:clamp(0.85rem, 2.2vw, 0.95rem);color:#37474f;line-height:1.4;">
          ${e.desc||''} ${descExtra}
        </div>
      </div>
    </div>`;
});
document.getElementById('ufprcal-main').innerHTML=html;
    }

    function ufprcalFmt(s){let d=s.split('-');return d[2]+'/'+d[1];}

    window.ufprcalSetSemester=function(sem){
      ufprcalSemester=sem;
      document.getElementById('sem1').classList.remove('ufprcal-sem-active');
      document.getElementById('sem2').classList.remove('ufprcal-sem-active');
      document.getElementById('sem1').style.background='#fff';
      document.getElementById('sem1').style.color='#2196f3';
      document.getElementById('sem1').style.border='1.5px solid #2196f3';
      document.getElementById('sem2').style.background='#fff';
      document.getElementById('sem2').style.color='#2196f3';
      document.getElementById('sem2').style.border='1.5px solid #2196f3';
      let btn=document.getElementById(sem===1?'sem1':'sem2');
      btn.classList.add('ufprcal-sem-active');
      btn.style.background='#2196f3';
      btn.style.color='#fff';
      btn.style.border='none';
      ufprcalRender();
    };

    window.ufprcalSetFilter=function(type){
      ufprcalType=type;
      ['all','iniciofim', 'exames', 'feriado','matricula','nota','trancamento','evento','prazo'].forEach(t=>{
        let btn=document.getElementById('filt-'+t);
        btn.classList.remove('ufprcal-filter-active');
        btn.style.background='#e3f1fc';
        btn.style.color='#02539a';
      });
      let abtn=document.getElementById('filt-'+type);
      abtn.classList.add('ufprcal-filter-active');
      abtn.style.background='#2196f3';
      abtn.style.color='#fff';
      ufprcalRender();
    };

    document.getElementById('ufprcal-search').addEventListener('input',function(){
      ufprcalSearch=this.value.trim();ufprcalRender();
    });

    ufprcalRender();
  </script>
</div>
